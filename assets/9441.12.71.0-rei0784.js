(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[9441],{56050:(e,t,o)=>{var n=o(23645)((function(e){return e[1]}));n.push([e.id,".nvlagfpb[data-v-61183a7a]{position:absolute;z-index:65535}.fade-enter-active[data-v-61183a7a],.fade-leave-active[data-v-61183a7a]{transition:opacity .5s cubic-bezier(.16,1,.3,1),transform .5s cubic-bezier(.16,1,.3,1);transform-origin:left top}.fade-enter-from[data-v-61183a7a],.fade-leave-to[data-v-61183a7a]{opacity:0;transform:scale(.9)}",""]),e.exports=n},51046:(e,t,o)=>{var n=o(23645)((function(e){return e[1]}));n.push([e.id,".rrevdjwt[data-v-24fdd9d5]{padding:8px 0}.rrevdjwt.left>.item[data-v-24fdd9d5]{text-align:left}.rrevdjwt>.item[data-v-24fdd9d5]{display:block;position:relative;padding:8px 16px;width:100%;box-sizing:border-box;white-space:nowrap;font-size:.9em;line-height:20px;text-align:center;overflow:hidden;text-overflow:ellipsis}.rrevdjwt>.item.danger[data-v-24fdd9d5]{color:#ff2a2a}.rrevdjwt>.item.danger[data-v-24fdd9d5]:hover{color:#fff;background:#ff4242}.rrevdjwt>.item.danger[data-v-24fdd9d5]:active{color:#fff;background:#d42e2e}.rrevdjwt>.item[data-v-24fdd9d5]:hover{color:#fff;background:var(--accent);text-decoration:none}.rrevdjwt>.item[data-v-24fdd9d5]:active{color:#fff;background:var(--accentDarken)}.rrevdjwt>.item[data-v-24fdd9d5]:not(:active):focus{box-shadow:0 0 0 2px var(--focus) inset}.rrevdjwt>.item.label[data-v-24fdd9d5]{pointer-events:none;font-size:.7em;padding-bottom:4px}.rrevdjwt>.item.label>span[data-v-24fdd9d5]{opacity:.7}.rrevdjwt>.item.pending[data-v-24fdd9d5]{pointer-events:none;opacity:.7}.rrevdjwt>.item.none[data-v-24fdd9d5]{pointer-events:none;opacity:.7}.rrevdjwt>.item>[data-icon][data-v-24fdd9d5]{margin-right:4px;width:20px}.rrevdjwt>.item>.avatar[data-v-24fdd9d5]{margin-right:4px;width:20px;height:20px}.rrevdjwt>.item>i[data-v-24fdd9d5]{position:absolute;top:5px;left:13px;color:var(--indicator);font-size:12px;animation:blink 1s infinite}.rrevdjwt>.divider[data-v-24fdd9d5]{margin:8px 0;height:1px;background:var(--divider)}",""]),e.exports=n},32174:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=(e,t,o=!0)=>{if(o&&e===t)return!0;let n=t.parentNode;for(;n;){if(n==e)return!0;n=n.parentNode}return!1}},29441:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var n=o(55393);const a=(0,n.withScopeId)("data-v-61183a7a"),i=a(((e,t,o,i,r,d)=>{const c=(0,n.resolveComponent)("MkMenu");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:e.$store.state.animation?"fade":"",appear:""},{default:a((()=>[(0,n.createVNode)("div",{class:"nvlagfpb",onContextmenu:t[2]||(t[2]=(0,n.withModifiers)((()=>{}),["prevent","stop"]))},[(0,n.createVNode)(c,{items:e.items,onClose:t[1]||(t[1]=t=>e.$emit("closed")),class:"_popup _shadow",align:"left"},null,8,["items"])],32)])),_:1},8,["name"])}));var r=o(32174),d=o(5077);const c=(0,n.defineComponent)({components:{MkMenu:d.Z},props:{items:{type:Array,required:!0},ev:{required:!0},viaKeyboard:{type:Boolean,required:!1}},emits:["closed"],computed:{keymap(){return{esc:()=>this.$emit("closed")}}},mounted(){let e=this.ev.pageX+1,t=this.ev.pageY+1;const o=this.$el.offsetWidth,n=this.$el.offsetHeight;e+o-window.pageXOffset>window.innerWidth&&(e=window.innerWidth-o+window.pageXOffset),t+n-window.pageYOffset>window.innerHeight&&(t=window.innerHeight-n+window.pageYOffset),t<0&&(t=0),e<0&&(e=0),this.$el.style.top=t+"px",this.$el.style.left=e+"px";for(const e of Array.from(document.querySelectorAll("body *")))e.addEventListener("mousedown",this.onMousedown)},beforeUnmount(){for(const e of Array.from(document.querySelectorAll("body *")))e.removeEventListener("mousedown",this.onMousedown)},methods:{onMousedown(e){(0,r.Z)(this.$el,e.target)||this.$el==e.target||this.$emit("closed")}}});o(87446);c.render=i,c.__scopeId="data-v-61183a7a";const s=c},5077:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(55393);const a=(0,n.withScopeId)("data-v-24fdd9d5");(0,n.pushScopeId)("data-v-24fdd9d5");const i={key:0,class:"divider"},r={key:1,class:"label item"},d={key:2},c={key:1},s={key:0},l={key:2},p={key:0,class:"none item"};(0,n.popScopeId)();const f=a(((e,t,o,f,v,m)=>{const u=(0,n.resolveComponent)("MkEllipsis"),k=(0,n.resolveComponent)("Fa"),h=(0,n.resolveComponent)("MkAvatar"),w=(0,n.resolveComponent)("MkA"),y=(0,n.resolveComponent)("MkUserName"),g=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",{class:["rrevdjwt",{left:"left"===e.align}],ref:"items",onContextmenu:t[3]||(t[3]=(0,n.withModifiers)((e=>e.preventDefault()),["self"]))},[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e._items,((o,p)=>((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[null===o?((0,n.openBlock)(),(0,n.createBlock)("div",i)):"label"===o.type?((0,n.openBlock)(),(0,n.createBlock)("span",r,[(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1)])):"pending"===o.type?((0,n.openBlock)(),(0,n.createBlock)("span",{key:2,tabindex:p,class:"pending item"},[(0,n.createVNode)("span",null,[(0,n.createVNode)(u)])],8,["tabindex"])):"link"===o.type?((0,n.openBlock)(),(0,n.createBlock)(w,{key:3,to:o.to,onClickPassive:t[1]||(t[1]=t=>e.close()),tabindex:p,class:"_button item"},{default:a((()=>[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),o.avatar?((0,n.openBlock)(),(0,n.createBlock)(h,{key:1,user:o.avatar,class:"avatar"},null,8,["user"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",d,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["to","tabindex"])):"a"===o.type?((0,n.openBlock)(),(0,n.createBlock)("a",{key:4,href:o.href,target:o.target,download:o.download,onClick:t[2]||(t[2]=t=>e.close()),tabindex:p,class:"_button item"},[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",c,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],8,["href","target","download","tabindex"])):"user"===o.type?((0,n.openBlock)(),(0,n.createBlock)("button",{key:5,onClick:t=>e.clicked(o.action,t),tabindex:p,class:"_button item"},[(0,n.createVNode)(h,{user:o.user,class:"avatar"},null,8,["user"]),(0,n.createVNode)(y,{user:o.user},null,8,["user"]),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",s,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],8,["onClick","tabindex"])):((0,n.openBlock)(),(0,n.createBlock)("button",{key:6,onClick:t=>e.clicked(o.action,t),tabindex:p,class:["_button item",{danger:o.danger}]},[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),o.avatar?((0,n.openBlock)(),(0,n.createBlock)(h,{key:1,user:o.avatar,class:"avatar"},null,8,["user"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",l,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],10,["onClick","tabindex"]))],64)))),256)),0===e._items.length?((0,n.openBlock)(),(0,n.createBlock)("span",p,[(0,n.createVNode)("span",null,(0,n.toDisplayString)(e.$ts.none),1)])):(0,n.createCommentVNode)("",!0)],34)),[[g,e.keymap]])}));var v=o(51436),m=o(3565),u=o(32174);const k=(0,n.defineComponent)({props:{items:{type:Array,required:!0},viaKeyboard:{type:Boolean,required:!1},align:{type:String,requried:!1}},emits:["close"],data:()=>({_items:[],faCircle:v.diR}),computed:{keymap(){return{"up|k|shift+tab":this.focusUp,"down|j|tab":this.focusDown,esc:this.close}}},created(){const e=(0,n.ref)(this.items.filter((e=>void 0!==e)));for(let t=0;t<e.value.length;t++){const o=e.value[t];o&&o.then&&(e.value[t]={type:"pending"},o.then((o=>{e.value[t]=o})))}this._items=e},mounted(){if(this.viaKeyboard&&this.$nextTick((()=>{(0,m.s)(this.$refs.items.children[0],!0,!1)})),this.contextmenuEvent){this.$el.style.top=this.contextmenuEvent.pageY+"px",this.$el.style.left=this.contextmenuEvent.pageX+"px";for(const e of Array.from(document.querySelectorAll("body *")))e.addEventListener("mousedown",this.onMousedown)}},beforeUnmount(){for(const e of Array.from(document.querySelectorAll("body *")))e.removeEventListener("mousedown",this.onMousedown)},methods:{clicked(e,t){e(t),this.close()},close(){this.$emit("close")},focusUp(){(0,m.r)(document.activeElement)},focusDown(){(0,m.s)(document.activeElement)},onMousedown(e){(0,u.Z)(this.$el,e.target)||this.$el==e.target||this.close()}}});o(61017);k.render=f,k.__scopeId="data-v-24fdd9d5";const h=k},87446:(e,t,o)=>{var n=o(56050);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,o(45346).Z)("cdff3bcc",n,!0,{})},61017:(e,t,o)=>{var n=o(51046);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,o(45346).Z)("77559606",n,!0,{})}}]);