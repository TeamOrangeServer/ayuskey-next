(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[6219],{50663:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".anocepby[data-v-8820bd94]{display:flex;align-items:center;padding:14px 16px}.anocepby>.value[data-v-8820bd94]{margin-left:auto;opacity:.7}",""]),e.exports=o},51674:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".yrtfrpux[data-v-5c1a1855]{position:relative}.yrtfrpux>.icon[data-v-5c1a1855]{position:absolute;top:0;left:0;width:24px;text-align:center;line-height:32px}.yrtfrpux>.icon:not(:empty)+.input[data-v-5c1a1855]{margin-left:28px}.yrtfrpux>.input[data-v-5c1a1855]{display:flex;position:relative}.yrtfrpux>.input>select[data-v-5c1a1855]{display:block;flex:1;width:100%;padding:0 16px;font:inherit;font-weight:400;font-size:1em;height:52px;background:none;border:none;border-radius:0;outline:none;box-shadow:none;appearance:none;-webkit-appearance:none;color:var(--fg)}.yrtfrpux>.input>select optgroup[data-v-5c1a1855],.yrtfrpux>.input>select option[data-v-5c1a1855]{color:var(--fg);background:var(--bg)}.yrtfrpux>.input>.prefix[data-v-5c1a1855],.yrtfrpux>.input>.suffix[data-v-5c1a1855]{display:block;align-self:center;justify-self:center;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none}.yrtfrpux>.input>.prefix[data-v-5c1a1855]:empty,.yrtfrpux>.input>.suffix[data-v-5c1a1855]:empty{display:none}.yrtfrpux>.input>.prefix>*[data-v-5c1a1855],.yrtfrpux>.input>.suffix>*[data-v-5c1a1855]{display:block;min-width:16px}.yrtfrpux>.input>.prefix[data-v-5c1a1855]{padding-right:4px}.yrtfrpux>.input>.suffix[data-v-5c1a1855]{padding:0 16px 0 0;opacity:.7}",""]),e.exports=o},10810:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ijnpvmgr>.main[data-v-3d67d1ea]{position:relative;display:flex;padding:16px;cursor:pointer}.ijnpvmgr>.main>*[data-v-3d67d1ea]{user-select:none}.ijnpvmgr>.main.disabled[data-v-3d67d1ea]{opacity:.6;cursor:not-allowed}.ijnpvmgr>.main.checked>.button[data-v-3d67d1ea]{background-color:var(--X10);border-color:var(--X10)}.ijnpvmgr>.main.checked>.button>*[data-v-3d67d1ea]{background-color:var(--accent);transform:translateX(14px)}.ijnpvmgr>.main>input[data-v-3d67d1ea]{position:absolute;width:0;height:0;opacity:0;margin:0}.ijnpvmgr>.main>.button[data-v-3d67d1ea]{position:relative;display:inline-block;flex-shrink:0;margin:3px 0 0;width:34px;height:14px;background:var(--X6);outline:none;border-radius:14px;transition:all .3s;cursor:pointer}.ijnpvmgr>.main>.button>*[data-v-3d67d1ea]{position:absolute;top:-3px;left:0;border-radius:100%;transition:background-color .3s,transform .3s;width:20px;height:20px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.ijnpvmgr>.main>.label[data-v-3d67d1ea]{margin-left:12px;display:block;transition:inherit;color:var(--fg)}.ijnpvmgr>.main>.label>span[data-v-3d67d1ea]{display:block;line-height:20px;transition:inherit}",""]),e.exports=o},23185:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".rivhosbp[data-v-9ea30e8a]{position:relative}.rivhosbp>.input[data-v-9ea30e8a]{position:relative}.rivhosbp>.input>textarea[data-v-9ea30e8a]{display:block;width:100%;min-width:100%;max-width:100%;min-height:130px;margin:0;padding:16px;box-sizing:border-box;font:inherit;font-weight:400;font-size:1em;background:transparent;border:none;border-radius:0;outline:none;box-shadow:none;color:var(--fg)}.rivhosbp>.input>textarea.code[data-v-9ea30e8a]{tab-size:2}.rivhosbp.tall>.input>textarea[data-v-9ea30e8a]{min-height:200px}.rivhosbp.pre>.input>textarea[data-v-9ea30e8a]{white-space:pre}",""]),e.exports=o},57823:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".fpezltsf[data-v-b3732a2e]{margin:16px 0;padding:16px;font-size:90%;background:var(--infoBg);color:var(--infoFg);border-radius:var(--radius)}.fpezltsf.warn[data-v-b3732a2e]{background:var(--infoWarnBg);color:var(--infoWarnFg)}.fpezltsf[data-v-b3732a2e]:first-child{margin-top:0}.fpezltsf[data-v-b3732a2e]:last-child{margin-bottom:0}.fpezltsf>i[data-v-b3732a2e]{margin-right:4px}",""]),e.exports=o},64051:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var o=a(55393);const r=(0,o.withScopeId)("data-v-8820bd94");(0,o.pushScopeId)("data-v-8820bd94");const n={class:"_formItem"},i={class:"_formPanel anocepby"},d={class:"key"},l={class:"value"};(0,o.popScopeId)();const s=r(((e,t,a,r,s,c)=>((0,o.openBlock)(),(0,o.createBlock)("div",n,[(0,o.createVNode)("div",i,[(0,o.createVNode)("span",d,[(0,o.renderSlot)(e.$slots,"key")]),(0,o.createVNode)("span",l,[(0,o.renderSlot)(e.$slots,"value")])])]))));a(23090);const c=(0,o.defineComponent)({});a(35293);c.render=s,c.__scopeId="data-v-8820bd94";const p=c},40903:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var o=a(55393);const r=(0,o.withScopeId)("data-v-5c1a1855");(0,o.pushScopeId)("data-v-5c1a1855");const n={class:"_formLabel"},i={class:"icon",ref:"icon"},d={class:"prefix",ref:"prefix"},l={class:"suffix"},s={class:"_formCaption"};(0,o.popScopeId)();const c=r(((e,t,a,r,c,p)=>{const u=(0,o.resolveComponent)("Fa");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["yrtfrpux _formItem",{disabled:e.disabled,inline:e.inline}]},[(0,o.createVNode)("div",n,[(0,o.renderSlot)(e.$slots,"label")]),(0,o.createVNode)("div",i,[(0,o.renderSlot)(e.$slots,"icon")],512),(0,o.createVNode)("div",{class:"input _formPanel _formClickable",onClick:t[4]||(t[4]=(...t)=>e.focus&&e.focus(...t))},[(0,o.createVNode)("div",d,[(0,o.renderSlot)(e.$slots,"prefix")],512),(0,o.withDirectives)((0,o.createVNode)("select",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),required:e.required,disabled:e.disabled,onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1)},[(0,o.renderSlot)(e.$slots,"default")],40,["required","disabled"]),[[o.vModelSelect,e.v]]),(0,o.createVNode)("div",l,[(0,o.createVNode)(u,{icon:e.faChevronDown},null,8,["icon"])])]),(0,o.createVNode)("div",s,[(0,o.renderSlot)(e.$slots,"caption")])],2)}));var p=a(51436);a(23090);const u=(0,o.defineComponent)({props:{value:{required:!1},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},inline:{type:Boolean,required:!1,default:!1}},data:()=>({faChevronDown:p.ptq}),computed:{v:{get(){return this.value},set(e){this.$emit("update:value",e)}}},methods:{focus(){this.$refs.input.focus()}}});a(31074);u.render=c,u.__scopeId="data-v-5c1a1855";const v=u},44983:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var o=a(55393);const r=(0,o.withScopeId)("data-v-3d67d1ea");(0,o.pushScopeId)("data-v-3d67d1ea");const n={class:"ijnpvmgr _formItem"},i=(0,o.createVNode)("span",{class:"button"},[(0,o.createVNode)("span")],-1),d={class:"label"},l={class:"_formCaption"};(0,o.popScopeId)();const s=r(((e,t,a,r,s,c)=>((0,o.openBlock)(),(0,o.createBlock)("div",n,[(0,o.createVNode)("div",{class:["main _formPanel _formClickable",{disabled:e.disabled,checked:e.checked}],"aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[2]||(t[2]=(0,o.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,o.createVNode)("input",{type:"checkbox",ref:"input",disabled:e.disabled,onKeydown:t[1]||(t[1]=(0,o.withKeys)(((...t)=>e.toggle&&e.toggle(...t)),["enter"]))},null,40,["disabled"]),i,(0,o.createVNode)("span",d,[(0,o.createVNode)("span",null,[(0,o.renderSlot)(e.$slots,"default")])])],10,["aria-checked","aria-disabled"]),(0,o.createVNode)("div",l,[(0,o.renderSlot)(e.$slots,"desc")])]))));a(23090);const c=(0,o.defineComponent)({props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.value}},methods:{toggle(){this.disabled||this.$emit("update:value",!this.checked)}}});a(93817);c.render=s,c.__scopeId="data-v-3d67d1ea";const p=c},77610:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var o=a(55393);const r=(0,o.withScopeId)("data-v-9ea30e8a");(0,o.pushScopeId)("data-v-9ea30e8a");const n={class:"input _formPanel"};(0,o.popScopeId)();const i=r(((e,t,a,i,d,l)=>{const s=(0,o.resolveComponent)("Fa"),c=(0,o.resolveComponent)("FormButton"),p=(0,o.resolveComponent)("FormGroup");return(0,o.openBlock)(),(0,o.createBlock)(p,{class:"_formItem"},{label:r((()=>[(0,o.renderSlot)(e.$slots,"default")])),caption:r((()=>[(0,o.renderSlot)(e.$slots,"desc")])),default:r((()=>[(0,o.createVNode)("div",{class:["rivhosbp _formItem",{tall:e.tall,pre:e.pre}]},[(0,o.createVNode)("div",n,[(0,o.withDirectives)((0,o.createVNode)("textarea",{ref:"input",class:{code:e.code,_monospace:e.code},"onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),required:e.required,readonly:e.readonly,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:!e.code,onInput:t[2]||(t[2]=(...t)=>e.onInput&&e.onInput(...t)),onFocus:t[3]||(t[3]=t=>e.focused=!0),onBlur:t[4]||(t[4]=t=>e.focused=!1)},null,42,["required","readonly","pattern","autocomplete","spellcheck"]),[[o.vModelText,e.v]])])],2),e.manualSave&&e.changed?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,onClick:e.updated,primary:""},{default:r((()=>[(0,o.createVNode)(s,{icon:e.faSave},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.save),1)])),_:1},8,["onClick"])):(0,o.createCommentVNode)("",!0)])),_:1})}));var d=a(51436),l=(a(23090),a(11937)),s=a(42519);const c=(0,o.defineComponent)({components:{FormGroup:s.Z,FormButton:l.Z},props:{value:{required:!1},required:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},pattern:{type:String,required:!1},autocomplete:{type:String,required:!1},code:{type:Boolean,required:!1},tall:{type:Boolean,required:!1,default:!1},pre:{type:Boolean,required:!1,default:!1},manualSave:{type:Boolean,required:!1,default:!1}},setup(e,t){const{value:a}=(0,o.toRefs)(e),r=(0,o.ref)(a.value),n=(0,o.ref)(!1),i=(0,o.ref)(null),l=()=>{n.value=!1,t.emit("update:value",r.value)};return(0,o.watch)(a,(e=>{r.value=e})),(0,o.watch)(r,(t=>{e.manualSave||l()})),{v:r,updated:l,changed:n,focus:()=>i.value.focus(),onInput:e=>{n.value=!0,t.emit("change",e)},faSave:d.r6l}}});a(16686);c.render=i,c.__scopeId="data-v-9ea30e8a";const p=c},61921:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(55393);const r=(0,o.withScopeId)("data-v-b3732a2e");(0,o.pushScopeId)("data-v-b3732a2e");const n={key:0},i={key:1};(0,o.popScopeId)();const d=r(((e,t,a,r,d,l)=>{const s=(0,o.resolveComponent)("Fa");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["fpezltsf",{warn:e.warn}]},[e.warn?((0,o.openBlock)(),(0,o.createBlock)("i",n,[(0,o.createVNode)(s,{icon:e.faExclamationTriangle},null,8,["icon"])])):((0,o.openBlock)(),(0,o.createBlock)("i",i,[(0,o.createVNode)(s,{icon:e.faInfoCircle},null,8,["icon"])])),(0,o.renderSlot)(e.$slots,"default")],2)}));var l=a(51436);const s=(0,o.defineComponent)({props:{warn:{type:Boolean,required:!1,default:!1}},data:()=>({faInfoCircle:l.sqG,faExclamationTriangle:l.eHv})});a(43476);s.render=d,s.__scopeId="data-v-b3732a2e";const c=s},18006:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var o=a(55393);var r=a(51436),n=a(11142),i=a(61921),d=a(44983),l=a(40903),s=a(77610),c=a(30320),p=a(42519),u=a(11937),v=a(64051),f=a(10192);const h=(0,o.defineComponent)({components:{MkInfo:i.Z,FormBase:c.Z,FormSelect:l.Z,FormSwitch:d.Z,FormButton:u.Z,FormTextarea:s.Z,FormGroup:p.Z,FormKeyValueView:v.Z},props:{scope:{required:!0},xKey:{required:!0}},emits:["info"],data(){return{INFO:{title:this.$ts.registry,icon:r.Kb6},value:null,valueForEditor:null,faSave:r.r6l,faTrash:r.$aW}},watch:{key(){this.fetch()}},mounted(){this.$emit("info",this.INFO),this.fetch()},methods:{fetch(){f.hi("i/registry/get-detail",{scope:this.scope,key:this.xKey}).then((e=>{this.value=e,this.valueForEditor=n.stringify(this.value.value,null,"\t")}))},save(){try{n.parse(this.valueForEditor)}catch(e){return void f.WZ({type:"error",text:this.$ts.invalidValue})}f.WZ({type:"warning",text:this.$ts.saveConfirm,showCancelButton:!0}).then((({canceled:e})=>{e||f.Zv("i/registry/set",{scope:this.scope,key:this.xKey,value:n.parse(this.valueForEditor)})}))},del(){f.WZ({type:"warning",text:this.$ts.deleteConfirm,showCancelButton:!0}).then((({canceled:e})=>{e||f.Zv("i/registry/remove",{scope:this.scope,key:this.xKey})}))}}});h.render=function(e,t,a,r,n,i){const d=(0,o.resolveComponent)("MkInfo"),l=(0,o.resolveComponent)("FormKeyValueView"),s=(0,o.resolveComponent)("FormGroup"),c=(0,o.resolveComponent)("FormTextarea"),p=(0,o.resolveComponent)("Fa"),u=(0,o.resolveComponent)("FormButton"),v=(0,o.resolveComponent)("MkTime"),f=(0,o.resolveComponent)("FormBase");return(0,o.openBlock)(),(0,o.createBlock)(f,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{warn:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.editTheseSettingsMayBreakAccount),1)])),_:1}),e.value?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{key:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._registry.domain),1)])),value:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.system),1)])),_:1}),(0,o.createVNode)(l,null,{key:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._registry.scope),1)])),value:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.scope.join("/")),1)])),_:1}),(0,o.createVNode)(l,null,{key:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._registry.key),1)])),value:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.xKey),1)])),_:1})])),_:1}),(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{tall:"",value:e.valueForEditor,"onUpdate:value":t[1]||(t[1]=t=>e.valueForEditor=t),class:"_monospace",style:{"tab-size":"2"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)("span",null,(0,o.toDisplayString)(e.$ts.value)+" (JSON)",1)])),_:1},8,["value"]),(0,o.createVNode)(u,{onClick:e.save,primary:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{icon:e.faSave},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.save),1)])),_:1},8,["onClick"])])),_:1}),(0,o.createVNode)(l,null,{key:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.updatedAt),1)])),value:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{time:e.value.updatedAt,mode:"detail"},null,8,["time"])])),_:1}),(0,o.createVNode)(u,{danger:"",onClick:e.del},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{icon:e.faTrash},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.delete),1)])),_:1},8,["onClick"])],64)):(0,o.createCommentVNode)("",!0)])),_:1})};const m=h},35293:(e,t,a)=>{var o=a(50663);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("5cebe7cb",o,!0,{})},31074:(e,t,a)=>{var o=a(51674);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("49c40216",o,!0,{})},93817:(e,t,a)=>{var o=a(10810);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("2942c08b",o,!0,{})},16686:(e,t,a)=>{var o=a(23185);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("45c40e28",o,!0,{})},43476:(e,t,a)=>{var o=a(57823);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("d7ae7ce2",o,!0,{})}}]);