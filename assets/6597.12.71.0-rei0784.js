(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[6597],{51046:(e,t,o)=>{var n=o(23645)((function(e){return e[1]}));n.push([e.id,".rrevdjwt[data-v-24fdd9d5]{padding:8px 0}.rrevdjwt.left>.item[data-v-24fdd9d5]{text-align:left}.rrevdjwt>.item[data-v-24fdd9d5]{display:block;position:relative;padding:8px 16px;width:100%;box-sizing:border-box;white-space:nowrap;font-size:.9em;line-height:20px;text-align:center;overflow:hidden;text-overflow:ellipsis}.rrevdjwt>.item.danger[data-v-24fdd9d5]{color:#ff2a2a}.rrevdjwt>.item.danger[data-v-24fdd9d5]:hover{color:#fff;background:#ff4242}.rrevdjwt>.item.danger[data-v-24fdd9d5]:active{color:#fff;background:#d42e2e}.rrevdjwt>.item[data-v-24fdd9d5]:hover{color:#fff;background:var(--accent);text-decoration:none}.rrevdjwt>.item[data-v-24fdd9d5]:active{color:#fff;background:var(--accentDarken)}.rrevdjwt>.item[data-v-24fdd9d5]:not(:active):focus{box-shadow:0 0 0 2px var(--focus) inset}.rrevdjwt>.item.label[data-v-24fdd9d5]{pointer-events:none;font-size:.7em;padding-bottom:4px}.rrevdjwt>.item.label>span[data-v-24fdd9d5]{opacity:.7}.rrevdjwt>.item.pending[data-v-24fdd9d5]{pointer-events:none;opacity:.7}.rrevdjwt>.item.none[data-v-24fdd9d5]{pointer-events:none;opacity:.7}.rrevdjwt>.item>[data-icon][data-v-24fdd9d5]{margin-right:4px;width:20px}.rrevdjwt>.item>.avatar[data-v-24fdd9d5]{margin-right:4px;width:20px;height:20px}.rrevdjwt>.item>i[data-v-24fdd9d5]{position:absolute;top:5px;left:13px;color:var(--indicator);font-size:12px;animation:blink 1s infinite}.rrevdjwt>.divider[data-v-24fdd9d5]{margin:8px 0;height:1px;background:var(--divider)}",""]),e.exports=n},32174:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=(e,t,o=!0)=>{if(o&&e===t)return!0;let n=t.parentNode;for(;n;){if(n==e)return!0;n=n.parentNode}return!1}},5077:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(55393);const a=(0,n.withScopeId)("data-v-24fdd9d5");(0,n.pushScopeId)("data-v-24fdd9d5");const r={key:0,class:"divider"},d={key:1,class:"label item"},i={key:2},c={key:1},l={key:0},s={key:2},p={key:0,class:"none item"};(0,n.popScopeId)();const m=a(((e,t,o,m,u,v)=>{const f=(0,n.resolveComponent)("MkEllipsis"),k=(0,n.resolveComponent)("Fa"),h=(0,n.resolveComponent)("MkAvatar"),y=(0,n.resolveComponent)("MkA"),g=(0,n.resolveComponent)("MkUserName"),x=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",{class:["rrevdjwt",{left:"left"===e.align}],ref:"items",onContextmenu:t[3]||(t[3]=(0,n.withModifiers)((e=>e.preventDefault()),["self"]))},[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e._items,((o,p)=>((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[null===o?((0,n.openBlock)(),(0,n.createBlock)("div",r)):"label"===o.type?((0,n.openBlock)(),(0,n.createBlock)("span",d,[(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1)])):"pending"===o.type?((0,n.openBlock)(),(0,n.createBlock)("span",{key:2,tabindex:p,class:"pending item"},[(0,n.createVNode)("span",null,[(0,n.createVNode)(f)])],8,["tabindex"])):"link"===o.type?((0,n.openBlock)(),(0,n.createBlock)(y,{key:3,to:o.to,onClickPassive:t[1]||(t[1]=t=>e.close()),tabindex:p,class:"_button item"},{default:a((()=>[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),o.avatar?((0,n.openBlock)(),(0,n.createBlock)(h,{key:1,user:o.avatar,class:"avatar"},null,8,["user"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",i,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["to","tabindex"])):"a"===o.type?((0,n.openBlock)(),(0,n.createBlock)("a",{key:4,href:o.href,target:o.target,download:o.download,onClick:t[2]||(t[2]=t=>e.close()),tabindex:p,class:"_button item"},[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",c,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],8,["href","target","download","tabindex"])):"user"===o.type?((0,n.openBlock)(),(0,n.createBlock)("button",{key:5,onClick:t=>e.clicked(o.action,t),tabindex:p,class:"_button item"},[(0,n.createVNode)(h,{user:o.user,class:"avatar"},null,8,["user"]),(0,n.createVNode)(g,{user:o.user},null,8,["user"]),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",l,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],8,["onClick","tabindex"])):((0,n.openBlock)(),(0,n.createBlock)("button",{key:6,onClick:t=>e.clicked(o.action,t),tabindex:p,class:["_button item",{danger:o.danger}]},[o.icon?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,icon:o.icon,"fixed-width":""},null,8,["icon"])):(0,n.createCommentVNode)("",!0),o.avatar?((0,n.openBlock)(),(0,n.createBlock)(h,{key:1,user:o.avatar,class:"avatar"},null,8,["user"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("span",null,(0,n.toDisplayString)(o.text),1),o.indicate?((0,n.openBlock)(),(0,n.createBlock)("i",s,[(0,n.createVNode)(k,{icon:e.faCircle},null,8,["icon"])])):(0,n.createCommentVNode)("",!0)],10,["onClick","tabindex"]))],64)))),256)),0===e._items.length?((0,n.openBlock)(),(0,n.createBlock)("span",p,[(0,n.createVNode)("span",null,(0,n.toDisplayString)(e.$ts.none),1)])):(0,n.createCommentVNode)("",!0)],34)),[[x,e.keymap]])}));var u=o(51436),v=o(3565),f=o(32174);const k=(0,n.defineComponent)({props:{items:{type:Array,required:!0},viaKeyboard:{type:Boolean,required:!1},align:{type:String,requried:!1}},emits:["close"],data:()=>({_items:[],faCircle:u.diR}),computed:{keymap(){return{"up|k|shift+tab":this.focusUp,"down|j|tab":this.focusDown,esc:this.close}}},created(){const e=(0,n.ref)(this.items.filter((e=>void 0!==e)));for(let t=0;t<e.value.length;t++){const o=e.value[t];o&&o.then&&(e.value[t]={type:"pending"},o.then((o=>{e.value[t]=o})))}this._items=e},mounted(){if(this.viaKeyboard&&this.$nextTick((()=>{(0,v.s)(this.$refs.items.children[0],!0,!1)})),this.contextmenuEvent){this.$el.style.top=this.contextmenuEvent.pageY+"px",this.$el.style.left=this.contextmenuEvent.pageX+"px";for(const e of Array.from(document.querySelectorAll("body *")))e.addEventListener("mousedown",this.onMousedown)}},beforeUnmount(){for(const e of Array.from(document.querySelectorAll("body *")))e.removeEventListener("mousedown",this.onMousedown)},methods:{clicked(e,t){e(t),this.close()},close(){this.$emit("close")},focusUp(){(0,v.r)(document.activeElement)},focusDown(){(0,v.s)(document.activeElement)},onMousedown(e){(0,f.Z)(this.$el,e.target)||this.$el==e.target||this.close()}}});o(61017);k.render=m,k.__scopeId="data-v-24fdd9d5";const h=k},36597:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var n=o(55393);const a=(0,n.withScopeId)("data-v-9d3ff630"),r=a(((e,t,o,r,d,i)=>{const c=(0,n.resolveComponent)("MkMenu"),l=(0,n.resolveComponent)("MkModal");return(0,n.openBlock)(),(0,n.createBlock)(l,{ref:"modal",src:e.src,onClick:t[2]||(t[2]=t=>e.$refs.modal.close()),onClosed:t[3]||(t[3]=t=>e.$emit("closed"))},{default:a((()=>[(0,n.createVNode)(c,{items:e.items,align:e.align,onClose:t[1]||(t[1]=t=>e.$refs.modal.close()),class:"_popup"},null,8,["items","align"])])),_:1},8,["src"])}));var d=o(89939),i=o(5077);const c=(0,n.defineComponent)({components:{MkModal:d.Z,MkMenu:i.Z},props:{items:{type:Array,required:!0},align:{type:String,required:!1},viaKeyboard:{type:Boolean,required:!1},src:{required:!1}},emits:["closed"],computed:{keymap(){return{esc:()=>this.$refs.modal.close()}}}});c.render=r,c.__scopeId="data-v-9d3ff630";const l=c},61017:(e,t,o)=>{var n=o(51046);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,o(45346).Z)("77559606",n,!0,{})}}]);