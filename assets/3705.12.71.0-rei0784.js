(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[3705],{48278:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ztzhwixg[data-v-36925b6a]{position:relative}.ztzhwixg>.icon[data-v-36925b6a]{position:absolute;top:0;left:0;width:24px;text-align:center;line-height:32px}.ztzhwixg>.icon:not(:empty)+.input[data-v-36925b6a]{margin-left:28px}.ztzhwixg>.input[data-v-36925b6a]{position:relative}.ztzhwixg>.input>input[data-v-36925b6a]{display:block;height:52px;width:100%;margin:0;padding:0 16px;font:inherit;font-weight:400;font-size:1em;line-height:52px;color:var(--inputText);background:transparent;border:none;border-radius:0;outline:none;box-shadow:none;box-sizing:border-box}.ztzhwixg>.input>input[type=file][data-v-36925b6a]{display:none}.ztzhwixg>.input>.prefix[data-v-36925b6a],.ztzhwixg>.input>.suffix[data-v-36925b6a]{display:block;position:absolute;z-index:1;top:0;padding:0 16px;font-size:1em;line-height:52px;color:var(--inputLabel);pointer-events:none}.ztzhwixg>.input>.prefix[data-v-36925b6a]:empty,.ztzhwixg>.input>.suffix[data-v-36925b6a]:empty{display:none}.ztzhwixg>.input>.prefix>*[data-v-36925b6a],.ztzhwixg>.input>.suffix>*[data-v-36925b6a]{display:inline-block;min-width:16px;max-width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ztzhwixg>.input>.prefix[data-v-36925b6a]{left:0;padding-right:8px}.ztzhwixg>.input>.suffix[data-v-36925b6a]{right:0;padding-left:8px}.ztzhwixg.inline[data-v-36925b6a]{display:inline-block;margin:0}.ztzhwixg.disabled[data-v-36925b6a]{opacity:.7}.ztzhwixg.disabled[data-v-36925b6a],.ztzhwixg.disabled *[data-v-36925b6a]{cursor:not-allowed!important}",""]),e.exports=o},74009:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.cnklmpwm>button{display:block;width:100%;box-sizing:border-box;padding:14px 18px;text-align:left}.cnklmpwm>button:not(:first-of-type){border-top:none!important;border-top-left-radius:0;border-top-right-radius:0}.cnklmpwm>button:not(:last-of-type){border-bottom:.5px solid var(--divider);border-bottom-left-radius:0;border-bottom-right-radius:0}.cnklmpwm>button>.check{display:inline-block;vertical-align:bottom;position:relative;width:20px;height:20px;margin-right:8px;background:none;border:2px solid var(--inputBorder);border-radius:100%;transition:inherit}.cnklmpwm>button>.check:after{content:"";display:block;position:absolute;top:3px;right:3px;bottom:3px;left:3px;border-radius:100%;opacity:0;transform:scale(0);transition:.4s cubic-bezier(.25,.8,.25,1)}.cnklmpwm>button>.check.checked{border-color:var(--accent)}.cnklmpwm>button>.check.checked:after{background-color:var(--accent);transform:scale(1);opacity:1}',""]),e.exports=o},1799:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.novjtctn[data-v-5faafda1]{position:relative;display:inline-block;margin:8px 20px 0 0;text-align:left;cursor:pointer;transition:all .3s}.novjtctn>*[data-v-5faafda1]{user-select:none}.novjtctn.disabled[data-v-5faafda1]{opacity:.6}.novjtctn.disabled[data-v-5faafda1],.novjtctn.disabled *[data-v-5faafda1]{cursor:not-allowed!important}.novjtctn.checked>.button[data-v-5faafda1]{border-color:var(--accent)}.novjtctn.checked>.button[data-v-5faafda1]:after{background-color:var(--accent);transform:scale(1);opacity:1}.novjtctn>input[data-v-5faafda1]{position:absolute;width:0;height:0;opacity:0;margin:0}.novjtctn>.button[data-v-5faafda1]{position:absolute;width:20px;height:20px;background:none;border:2px solid var(--inputBorder);border-radius:100%;transition:inherit}.novjtctn>.button[data-v-5faafda1]:after{content:"";display:block;position:absolute;top:3px;right:3px;bottom:3px;left:3px;border-radius:100%;opacity:0;transform:scale(0);transition:.4s cubic-bezier(.25,.8,.25,1)}.novjtctn>.label[data-v-5faafda1]{margin-left:28px;display:block;font-size:16px;line-height:20px;cursor:pointer}',""]),e.exports=o},80855:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".zoaiodol[data-v-58944cd6]{padding:16px}.zoaiodol>.item[data-v-58944cd6]{display:inline-block;padding:8px;cursor:move}.zoaiodol>.add[data-v-58944cd6]{display:inline-block;padding:8px}",""]),e.exports=o},49520:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var o=a(55393);const i=(0,o.withScopeId)("data-v-36925b6a");(0,o.pushScopeId)("data-v-36925b6a");const n={class:"icon",ref:"icon"},r={class:"input _formPanel"},l={class:"prefix",ref:"prefixEl"},d={class:"suffix",ref:"suffixEl"};(0,o.popScopeId)();const s=i(((e,t,a,s,c,p)=>{const u=(0,o.resolveComponent)("Fa"),v=(0,o.resolveComponent)("FormButton"),f=(0,o.resolveComponent)("FormGroup");return(0,o.openBlock)(),(0,o.createBlock)(f,{class:"_formItem"},{label:i((()=>[(0,o.renderSlot)(e.$slots,"default")])),caption:i((()=>[(0,o.renderSlot)(e.$slots,"desc")])),default:i((()=>[(0,o.createVNode)("div",{class:["ztzhwixg _formItem",{inline:e.inline,disabled:e.disabled}]},[(0,o.createVNode)("div",n,[(0,o.renderSlot)(e.$slots,"icon")],512),(0,o.createVNode)("div",r,[(0,o.createVNode)("div",l,[(0,o.renderSlot)(e.$slots,"prefix")],512),(0,o.withDirectives)((0,o.createVNode)("input",{ref:"inputEl",type:e.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:e.spellcheck,step:e.step,onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1),onKeydown:t[4]||(t[4]=t=>e.onKeydown(t)),onInput:t[5]||(t[5]=(...t)=>e.onInput&&e.onInput(...t)),list:e.id},null,40,["type","disabled","required","readonly","placeholder","pattern","autocomplete","spellcheck","step","list"]),[[o.vModelDynamic,e.v]]),e.datalist?((0,o.openBlock)(),(0,o.createBlock)("datalist",{key:0,id:e.id},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.datalist,(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e},null,8,["value"])))),256))],8,["id"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",d,[(0,o.renderSlot)(e.$slots,"suffix")],512)])],2),e.manualSave&&e.changed?((0,o.openBlock)(),(0,o.createBlock)(v,{key:0,onClick:e.updated,primary:""},{default:i((()=>[(0,o.createVNode)(u,{icon:e.faSave},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.save),1)])),_:1},8,["onClick"])):(0,o.createCommentVNode)("",!0)])),_:3})}));var c=a(51436),p=(a(23090),a(11937)),u=a(42519);const v=(0,o.defineComponent)({components:{FormGroup:u.Z,FormButton:p.Z},props:{value:{required:!1},type:{type:String,required:!1},required:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},pattern:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!1},autocomplete:{required:!1},spellcheck:{required:!1},step:{required:!1},datalist:{type:Array,required:!1},inline:{type:Boolean,required:!1,default:!1},manualSave:{type:Boolean,required:!1,default:!1}},emits:["change","keydown","enter"],setup(e,t){const{value:a,type:i,autofocus:n}=(0,o.toRefs)(e),r=(0,o.ref)(a.value),l=Math.random().toString(),d=(0,o.ref)(!1),s=(0,o.ref)(!1),p=(0,o.ref)(!1),u=(0,o.computed)((()=>""!==r.value&&null!=r.value)),v=(0,o.ref)(null),f=(0,o.ref)(null),h=(0,o.ref)(null),m=()=>v.value.focus(),b=()=>{s.value=!1,"number"===(null==i?void 0:i.value)?t.emit("update:value",parseFloat(r.value)):t.emit("update:value",r.value)};return(0,o.watch)(a,(e=>{r.value=e})),(0,o.watch)(r,(t=>{e.manualSave||b(),p.value=v.value.validity.badInput})),(0,o.onMounted)((()=>{(0,o.nextTick)((()=>{n.value&&m();const e=setInterval((()=>{f.value&&f.value.offsetWidth&&(v.value.style.paddingLeft=f.value.offsetWidth+"px"),h.value&&h.value.offsetWidth&&(v.value.style.paddingRight=h.value.offsetWidth+"px")}),100);(0,o.onUnmounted)((()=>{clearInterval(e)}))}))})),{id:l,v:r,focused:d,invalid:p,changed:s,filled:u,inputEl:v,prefixEl:f,suffixEl:h,focus:m,onInput:e=>{s.value=!0,t.emit("change",e)},onKeydown:e=>{t.emit("keydown",e),"Enter"===e.code&&t.emit("enter")},updated:b,faExclamationCircle:c.RLE,faSave:c.r6l}}});a(37567);v.render=s,v.__scopeId="data-v-36925b6a";const f=v},74874:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(55393),i=a(76187);a(23090);const n=(0,o.defineComponent)({components:{MkRadio:i.Z},props:{modelValue:{required:!1}},data(){return{value:this.modelValue}},watch:{value(){this.$emit("update:modelValue",this.value)}},render(){const e=this.$slots.desc(),t=this.$slots.default();return(0,o.h)("div",{class:"cnklmpwm _formItem"},[(0,o.h)("div",{class:"_formLabel"},e),...t.map((e=>(0,o.h)("button",{class:"_button _formPanel _formClickable",key:e.props.value,onClick:()=>this.value=e.props.value},[(0,o.h)("span",{class:["check",{checked:this.value===e.props.value}]}),e.children])))])}});a(33815);const r=n},76187:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a(55393);const i=(0,o.withScopeId)("data-v-5faafda1");(0,o.pushScopeId)("data-v-5faafda1");const n=(0,o.createVNode)("span",{class:"button"},[(0,o.createVNode)("span")],-1),r={class:"label"};(0,o.popScopeId)();const l=i(((e,t,a,i,l,d)=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:["novjtctn",{disabled:e.disabled,checked:e.checked}],"aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},[(0,o.createVNode)("input",{type:"radio",disabled:e.disabled},null,8,["disabled"]),n,(0,o.createVNode)("span",r,[(0,o.renderSlot)(e.$slots,"default")])],10,["aria-checked","aria-disabled"])))),d=(0,o.defineComponent)({props:{modelValue:{required:!1},value:{required:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.modelValue===this.value}},methods:{toggle(){this.disabled||this.$emit("update:modelValue",this.value)}}});a(96963);d.render=l,d.__scopeId="data-v-5faafda1";const s=d},18343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var o=a(55393);const i=(0,o.withScopeId)("data-v-58944cd6");(0,o.pushScopeId)("data-v-58944cd6");const n={class:"_formItem"},r={class:"_formLabel"},l={class:"_formPanel"},d={class:"_formCaption"},s={value:1},c={value:2},p={value:3},u={value:1},v={value:2},f={value:3};(0,o.popScopeId)();const h=i(((e,t,a,h,m,b)=>{const g=(0,o.resolveComponent)("MkEmoji"),x=(0,o.resolveComponent)("Fa"),k=(0,o.resolveComponent)("XDraggable"),y=(0,o.resolveComponent)("FormRadios"),w=(0,o.resolveComponent)("FormButton"),V=(0,o.resolveComponent)("FormBase");return(0,o.openBlock)(),(0,o.createBlock)(V,null,{default:i((()=>[(0,o.createVNode)("div",n,[(0,o.createVNode)("div",r,(0,o.toDisplayString)(e.$ts.reactionSettingDescription),1),(0,o.createVNode)("div",l,[(0,o.createVNode)(k,{class:"zoaiodol",modelValue:e.reactions,"onUpdate:modelValue":t[2]||(t[2]=t=>e.reactions=t),"item-key":e=>e,animation:"150",delay:"100","delay-on-touch-only":"true"},{item:i((({element:t})=>[(0,o.createVNode)("button",{class:"_button item",onClick:a=>e.remove(t,a)},[(0,o.createVNode)(g,{emoji:t,normal:!0},null,8,["emoji"])],8,["onClick"])])),footer:i((()=>[(0,o.createVNode)("button",{class:"_button add",onClick:t[1]||(t[1]=(...t)=>e.chooseEmoji&&e.chooseEmoji(...t))},[(0,o.createVNode)(x,{icon:e.faPlus},null,8,["icon"])])])),_:1},8,["modelValue","item-key"])]),(0,o.createVNode)("div",d,[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.reactionSettingDescription2)+" ",1),(0,o.createVNode)("button",{class:"_textButton",onClick:t[3]||(t[3]=(...t)=>e.preview&&e.preview(...t))},(0,o.toDisplayString)(e.$ts.preview),1)])]),(0,o.createVNode)(y,{modelValue:e.reactionPickerWidth,"onUpdate:modelValue":t[4]||(t[4]=t=>e.reactionPickerWidth=t)},{desc:i((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.width),1)])),default:i((()=>[(0,o.createVNode)("option",s,(0,o.toDisplayString)(e.$ts.small),1),(0,o.createVNode)("option",c,(0,o.toDisplayString)(e.$ts.medium),1),(0,o.createVNode)("option",p,(0,o.toDisplayString)(e.$ts.large),1)])),_:1},8,["modelValue"]),(0,o.createVNode)(y,{modelValue:e.reactionPickerHeight,"onUpdate:modelValue":t[5]||(t[5]=t=>e.reactionPickerHeight=t)},{desc:i((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.height),1)])),default:i((()=>[(0,o.createVNode)("option",u,(0,o.toDisplayString)(e.$ts.small),1),(0,o.createVNode)("option",v,(0,o.toDisplayString)(e.$ts.medium),1),(0,o.createVNode)("option",f,(0,o.toDisplayString)(e.$ts.large),1)])),_:1},8,["modelValue"]),(0,o.createVNode)(w,{onClick:e.preview},{default:i((()=>[(0,o.createVNode)(x,{icon:e.faEye},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.preview),1)])),_:1},8,["onClick"]),(0,o.createVNode)(w,{danger:"",onClick:e.setDefault},{default:i((()=>[(0,o.createVNode)(x,{icon:e.faUndo},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.default),1)])),_:1},8,["onClick"])])),_:1})}));var m=a(56024),b=a(51436),g=a(82021),x=a.n(g),k=a(49520),y=a(74874),w=a(30320),V=a(11937),z=a(10192),S=a(73120);const N=(0,o.defineComponent)({components:{FormInput:k.Z,FormButton:V.Z,FormBase:w.Z,FormRadios:y.Z,XDraggable:x()},emits:["info"],data(){return{INFO:{title:this.$ts.reaction,icon:m.$B,action:{icon:m.Md,handler:this.preview}},reactions:JSON.parse(JSON.stringify(this.$store.state.reactions)),faLaugh:m.$B,faSave:m.r6,faEye:m.Md,faUndo:b.X7o,faPlus:b.r8p}},computed:{reactionPickerWidth:S.Z3.makeGetterSetter("reactionPickerWidth"),reactionPickerHeight:S.Z3.makeGetterSetter("reactionPickerHeight")},watch:{reactions:{handler(){this.save()},deep:!0}},mounted(){this.$emit("info",this.INFO)},methods:{save(){this.$store.set("reactions",this.reactions)},remove(e,t){z.n4([{text:this.$ts.remove,action:()=>{this.reactions=this.reactions.filter((t=>t!==e))}}],t.currentTarget||t.target)},preview(e){z.gk(Promise.all([a.e(9411),a.e(9059)]).then(a.bind(a,9059)),{asReactionPicker:!0,src:e.currentTarget||e.target},{},"closed")},async setDefault(){const{canceled:e}=await z.WZ({type:"warning",text:this.$ts.resetAreYouSure,showCancelButton:!0});e||(this.reactions=JSON.parse(JSON.stringify(this.$store.def.reactions.default)))},chooseEmoji(e){z.S7(e.currentTarget||e.target,{showPinned:!1}).then((e=>{this.reactions.includes(e)||this.reactions.push(e)}))}}});a(99068);N.render=h,N.__scopeId="data-v-58944cd6";const B=N},37567:(e,t,a)=>{var o=a(48278);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("0c28e782",o,!0,{})},33815:(e,t,a)=>{var o=a(74009);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("c322c9b8",o,!0,{})},96963:(e,t,a)=>{var o=a(1799);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("3f03e8ae",o,!0,{})},99068:(e,t,a)=>{var o=a(80855);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("29328fa6",o,!0,{})}}]);